\section{Introduction}

Many of our daily activities involve changing whole-body posture to a target pose without losing balance. For example, to rise from a chair, we carefully maintain balance while switching from a sitting to a standing pose. There are a large variety of motions of similar kind, such as lean-to-stand and kneel-to-stand. Many strategies have been identified to achieve these tasks in biomechanics studies \cite{schenkman:1990,riley:1991,hughes:1994,hughes:1996}. On one end of the spectrum, people employ stabilization strategy in which very little momentum is generated and the center of mass (COM) is constantly supported. In this work, we are interested in the other end of the spectrum, called momentum transfer strategy, in which rapid movements are used to maintain balance even when the COM is outside the support polygon. Studying motions employing momentum transfer strategy can have far-reaching impacts in robotics, especially in rehabilitation, exoskeleton and humanoid robots. 

A successful control algorthim often consists an open loop component that tracks a reference trajectory and a feedback component that compensate for the errors. In this work, we focus on the former because although careful feedback are necessary in the momentum transfer strategy, a trajectory of a purposeful and forceful motion is even more important. Designing a reference trajectory for the momentum transfer strategy is challenging due to the impulsive motions and rich interactions with the environments. These trajectories are often designed manually by highly-specialized engineers through a time-consuming, trial-and-error process. It involves laborious manual tuning and numerous costly robot experiments.

The main contribution of this paper is a complete system that can automatically design open loop reference trajectories for a robot to execute a wide range of transition tasks. It replaces the tedious manual tuning with automatic optimization processes, and drastically reduces the number of expensive robot experiments. Our system consists of three main components. We first build a \emph{physical simulation} to simulate the dynamics of the robot and its interaction with the environments. We use \emph{trajectory optimization} to search for the optimal trajectory for the transition task in the simulation. However, even a perfect reference trajectory in the simulation can perform poorly on a robot in the real environment. This Reality Gap \cite{Jakobi95} is caused by various simplifications in simulation algorithms, such as simplified actuator models, inaccurate physical parameters, and ignored hardware limitations, noise and latency. We use \emph{simulation calibration} to cross the Reality Gap.

\jie{The following paragraph need to be rewritten to state the difference/advantage among simulation calibration, system identification and model learning. This might require a bit of reading/survey.}

Simulation calibration is a dynamic system identification method. We want to emphasize that the goal of simulation calibration is to effectively design reference trajectories that works in the real world, instead of finding the ground truth about the hardware parameters. During calibration, we collect performance data on the robot, and use it to improve our physical model. Unlike traditional system identification, which is a separate step from controller design, our simulation calibration is tightly coupled with the trajectory optimization. We directly track the optimal trajectory that is found in the simulation to collect real data for system identification. In this way, the simulation is calibrated at the vicinity of the current optimal trajectory. The computation is focused at the important regions of the control space and thus fewer robot experiments are needed. Through calibration, the simulator can capture the real world dynamics more faithfully. This calibrated simulator is used again in trajectory optimization to improve the quality of the reference trajectory.

We evaluate our system using four tasks: lean-to-stand, sit-to-stand, kneel-to-stand and stand-to-handstand. Although these tasks are distinctively different, our system can find successful reference trajectories for all the tasks.


